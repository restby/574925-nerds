var modalWindow=document.querySelector(".modal-write"),openModal=document.querySelector(".btn-adress"),modalWindowClose=document.querySelector(".modal-close"),nameForm=document.querySelector("[name=name]"),emailForm=document.querySelector("[name=email]"),mailTextForm=document.querySelector("[name=mail-text]"),staticMap=document.querySelector(".static-map"),wrapperMap=document.querySelector(".map"),slider0=document.querySelector(".slider-item:nth-child(1)"),slider1=document.querySelector(".slider-item:nth-child(2)"),slider2=document.querySelector(".slider-item:nth-child(3)"),sliderControls0=document.querySelector(".slider-controls i:nth-child(1)"),sliderControls1=document.querySelector(".slider-controls i:nth-child(2)"),sliderControls2=document.querySelector(".slider-controls i:nth-child(3)"),form=modalWindow.querySelector("form"),isStorageSupport=!0,storageName="",storageEmail="";try{storageName=localStorage.getItem("name"),storageEmail=localStorage.getItem("email")}catch(e){isStorageSupport=!1}sliderControls0&&sliderControls1&&sliderControls2&&(sliderControls0.addEventListener("click",function(e){e.preventDefault(),slider1.classList.remove("slider-item-show"),slider2.classList.remove("slider-item-show"),slider0.classList.add("slider-item-show"),sliderControls0.classList.add("active"),sliderControls1.classList.remove("active"),sliderControls2.classList.remove("active")}),sliderControls1.addEventListener("click",function(e){e.preventDefault(),slider2.classList.remove("slider-item-show"),slider0.classList.remove("slider-item-show"),slider1.classList.add("slider-item-show"),sliderControls0.classList.remove("active"),sliderControls2.classList.remove("active"),sliderControls1.classList.add("active")}),sliderControls2.addEventListener("click",function(e){e.preventDefault(),slider0.classList.remove("slider-item-show"),slider1.classList.remove("slider-item-show"),slider2.classList.add("slider-item-show"),sliderControls0.classList.remove("active"),sliderControls1.classList.remove("active"),sliderControls2.classList.add("active")})),openModal.addEventListener("click",function(e){e.preventDefault(),modalWindow.classList.add("modal-write-open"),nameForm.focus(),storageName?(nameForm.value=storageName,emailForm.focus()):nameForm.focus(),storageEmail?(emailForm.value=storageEmail,mailTextForm.focus()):emailForm.focus()}),modalWindowClose.addEventListener("click",function(e){e.preventDefault(),modalWindow.classList.remove("modal-write-open"),modalWindow.classList.remove("modal-error")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),modalWindow.classList.contains("modal-write-open")&&(modalWindow.classList.remove("modal-write-open"),modalWindow.classList.remove("modal-error")))}),staticMap&&(staticMap.classList.add("hide-map"),wrapperMap.innerHTML='<iframe src="https://yandex.by/map-widget/v1/-/CBqqYEBmWB" width="1440" height="417" frameborder="0"></iframe>'),form.addEventListener("submit",function(e){nameForm.value&&emailForm.value&&mailTextForm.value?isStorageSupport&&(localStorage.setItem("name",nameForm.value),localStorage.setItem("email",emailForm.value)):(e.preventDefault(),modalWindow.classList.add("modal-error"))});
